(this["webpackJsonpyalantis-task"]=this["webpackJsonpyalantis-task"]||[]).push([[0],{14:function(e,t,n){e.exports={container:"EmployeesBirthdayView_container__1VO5d",employees:"EmployeesBirthdayView_employees__2sSRT",birthdays:"EmployeesBirthdayView_birthdays__1viTv"}},19:function(e,t,n){e.exports={title:"Employees_title__3TUyE",employees:"Employees_employees__FTFDn"}},20:function(e,t,n){e.exports={title:"Birthdays_title__2KY0X",birthdays:"Birthdays_birthdays__2BgQ3"}},38:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(11),i=n.n(s),r=(n(38),n(5)),o=n(4),l=n(29),u=n(33),j=n(6),d=n(2),b=n(30),p=n.n(b),h=n(8),y=Object(j.b)("api/callBegan"),O=Object(j.b)("api/callSuccess"),m=Object(j.b)("api/callFailed"),f=Object(j.c)({name:"employees",initialState:{list:[],loading:!1},reducers:{employeesRequested:function(e,t){e.loading=!0},employeesRequestFailed:function(e,t){e.loading=!1},employeesReceived:function(e,t){e.list=t.payload,e.loading=!1},employeeStatusChanged:function(e,t){var n=e.list.findIndex((function(e){return e.id===t.payload.id}));e.list[n].activeStatus=t.payload.status}}}),x=f.actions,v=x.employeesRequested,g=x.employeesRequestFailed,_=x.employeesReceived,N=x.employeeStatusChanged,S=f.reducer,E=Object(h.a)((function(e){return e.entities.employees}),(function(e){return e})),k=Object(h.a)((function(e){return e.entities.employees.list}),(function(e){return e.filter((function(e){return"active"===e.activeStatus}))})),C={key:"employees",storage:p.a},B=Object(d.b)({employees:Object(o.g)(C,S)}),M=Object(d.b)({entities:B}),w=n(18),R=n.n(w),q=n(31),F=n(32),Y=n.n(F),T=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(q.a)(R.a.mark((function n(c){var a,s,i,r,o,l,u,j;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===y.type){n.next=2;break}return n.abrupt("return",e(c));case 2:return a=c.payload,s=a.url,i=a.method,r=a.data,o=a.onStart,l=a.onSuccess,u=a.onError,o&&t({type:o}),e(c),n.prev=5,n.next=8,Y.a.request({baseURL:"https://yalantis-react-school-api.yalantis.com/api/task0",url:s,method:i,data:r});case 8:j=n.sent,t(O(j.data)),l&&t({type:l,payload:j.data}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),t(m(n.t0.message)),u&&t({type:u,payload:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}()}},V=n(0),A=function(){return Object(V.jsx)("div",{children:"Loading..."})},L=n(7),U=n(13),D=function(e){var t=e.id,n=e.firstName,c=e.lastName,a=e.activeStatus,s=Object(r.b)(),i="active"===a,o=function(e){var n=e.target.value;s(function(e,t){return function(n,c){n({type:N.type,payload:{id:e,status:t}})}}(t,n))};return Object(V.jsxs)("li",{children:[Object(V.jsx)("span",{style:{color:i?"blue":""},children:"".concat(c," ").concat(n)}),Object(V.jsxs)("div",{children:[Object(V.jsxs)("label",{children:[Object(V.jsx)("input",{type:"radio",value:"not-active",checked:!i,onChange:o}),"not active"]})," ",Object(V.jsxs)("label",{children:[Object(V.jsx)("input",{type:"radio",value:"active",checked:i,onChange:o}),"active"]})]})]},t)},I=function(e){var t=e.title,n=e.employees;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{children:t}),Object(V.jsx)("ul",{children:n.length?n.map((function(e){return Object(V.jsx)(D,Object(L.a)({},e),e.id)})):Object(V.jsx)("span",{children:"---"})})]})},J=n(19),z=n.n(J),G=function(){var e=Object(r.b)(),t=Object(r.c)(E),n=Object(c.useState)([]),a=Object(U.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){e((function(e,t){t().entities.employees.list.length||e(y({url:"/users",onStart:v.type,onSuccess:_.type,onError:g.type}))}))}),[e]),Object(c.useEffect)((function(){var e=function(e){for(var t="A".charCodeAt(0),n=[],c=function(c){var a=String.fromCharCode(t+c),s=e.filter((function(e){return e.lastName[0].toUpperCase()===a})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)})),i={title:a,employees:s};n.push(i)},a=0;a<26;a++)c(a);return n}(t.list);i(e)}),[t.list]),t.loading?Object(V.jsx)(A,{}):Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:z.a.title,children:[Object(V.jsx)("h2",{children:"Employees"}),Object(V.jsx)("hr",{})]}),Object(V.jsx)("div",{className:z.a.employees,children:s.map((function(e){return Object(V.jsx)(I,Object(L.a)({},e),e.title)}))})]})},K=n(9),P=n.n(K),Q=function(e){var t=e.lastName,n=e.firstName,c=e.dob;return Object(V.jsx)("li",{children:"".concat(t," ").concat(n," - ").concat(P()(c).format("D MMMM, YYYY [year]"))})},X=function(e){var t=e.title,n=e.employees;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{children:t}),Object(V.jsx)("ul",{children:n.map((function(e){return Object(V.jsx)(Q,Object(L.a)({},e),e.id)}))})]})},H=n(20),W=n.n(H),Z=function(){var e=Object(r.c)(k),t=Object(c.useState)([]),n=Object(U.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){var t=function(e){for(var t=[],n=P()().month(),c=function(c){var a=(c+n)%12,s=e.filter((function(e){return P()(e.dob).month()===a})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));if(!s.length)return"continue";var i={title:P()().month(a).format("MMMM"),employees:s};t.push(i)},a=0;a<12;a++)c(a);return t}(e);s(t)}),[e]),Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:W.a.title,children:[Object(V.jsx)("h2",{children:"Employees Birthday"}),Object(V.jsx)("hr",{})]}),Object(V.jsx)("div",{className:W.a.birthdays,children:a.length?a.map((function(e){return Object(V.jsx)(X,Object(L.a)({},e),e.title)})):Object(V.jsx)("p",{children:"Employees List is empty."})})]})},$=n(14),ee=n.n($),te=function(){return Object(V.jsxs)("div",{className:ee.a.container,children:[Object(V.jsx)("section",{className:ee.a.employees,children:Object(V.jsx)(G,{})}),Object(V.jsx)("section",{className:ee.a.birthdays,children:Object(V.jsx)(Z,{})})]})},ne=Object(j.a)({reducer:M,middleware:[].concat(Object(u.a)(Object(j.d)({serializableCheck:{ignoredActions:[o.a,o.f,o.b,o.c,o.d,o.e]}})),[T])}),ce=Object(o.h)(ne);var ae=function(){return Object(V.jsx)(r.a,{store:ne,children:Object(V.jsx)(l.PersistGate,{loading:Object(V.jsx)(A,{}),persistor:ce,children:Object(V.jsx)(te,{})})})};i.a.render(Object(V.jsx)(a.a.StrictMode,{children:Object(V.jsx)(ae,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.5eb6d0fa.chunk.js.map