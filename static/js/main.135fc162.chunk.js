(this["webpackJsonpyalantis-task"]=this["webpackJsonpyalantis-task"]||[]).push([[0],{12:function(e,t,n){e.exports={container:"EmployeesBirthdayView_container__1VO5d",employees:"EmployeesBirthdayView_employees__2sSRT",birthdays:"EmployeesBirthdayView_birthdays__1viTv"}},17:function(e,t,n){e.exports={title:"Employees_title__3TUyE",employees:"Employees_employees__FTFDn"}},18:function(e,t,n){e.exports={title:"Birthdays_title__2KY0X",birthdays:"Birthdays_birthdays__2BgQ3"}},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(10),s=n.n(i),r=n(8),o=n(4),l=n(27),u=n(6),d=n(16),j=n.n(d),b=n(28),p=n(29),h=n.n(p),y=Object(u.b)("api/callBegan"),f=Object(u.b)("api/callSuccess"),m=Object(u.b)("api/callFailed"),O=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(b.a)(j.a.mark((function n(c){var a,i,s,r,o,l,u,d;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===y.type){n.next=2;break}return n.abrupt("return",e(c));case 2:return a=c.payload,i=a.url,s=a.method,r=a.data,o=a.onStart,l=a.onSuccess,u=a.onError,o&&t({type:o}),e(c),n.prev=5,n.next=8,h.a.request({baseURL:"https://yalantis-react-school-api.yalantis.com/api/task0",url:i,method:s,data:r});case 8:d=n.sent,t(f(d.data)),l&&t({type:l,payload:d.data}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),t(m(n.t0.message)),u&&t({type:u,payload:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}()}},v=n(2),x=n(30),g=n.n(x),_=n(7),N=Object(u.c)({name:"employees",initialState:{list:[],loading:!1},reducers:{employeesRequested:function(e){e.loading=!0},employeesRequestFailed:function(e){e.loading=!1},employeesReceived:function(e,t){e.list=t.payload,e.loading=!1},employeeStatusChanged:function(e,t){var n=e.list.findIndex((function(e){return e.id===t.payload.id}));e.list[n].activeStatus=t.payload.status}}}),S=N.actions,E=S.employeesRequested,k=S.employeesRequestFailed,C=S.employeesReceived,B=S.employeeStatusChanged,M=N.reducer,w=Object(_.a)((function(e){return e.entities.employees}),(function(e){return e})),R=Object(_.a)((function(e){return e.entities.employees.list}),(function(e){return e.filter((function(e){return"active"===e.activeStatus}))})),q={key:"employees",storage:g.a},F=Object(v.b)({employees:Object(o.g)(q,M)}),Y=Object(v.b)({entities:F}),T=Object(u.a)({reducer:Y,middleware:function(e){return e({serializableCheck:{ignoredActions:[o.a,o.f,o.b,o.c,o.d,o.e]}}).concat(O)}}),V=n(0),A=function(){return Object(V.jsx)("div",{children:"Loading..."})},L=n(5),U=n(11),D=function(){return Object(r.b)()},I=r.c,J=function(e){var t=e.id,n=e.firstName,c=e.lastName,a=e.activeStatus,i=void 0===a?"not-active":a,s=D(),r="active"===i,o=function(e){var n=e.target.value;s(function(e,t){return function(n){n({type:B.type,payload:{id:e,status:t}})}}(t,n))};return Object(V.jsxs)("li",{children:[Object(V.jsx)("span",{style:{color:r?"blue":""},children:"".concat(c," ").concat(n)}),Object(V.jsxs)("div",{children:[Object(V.jsxs)("label",{children:[Object(V.jsx)("input",{type:"radio",value:"not-active",checked:!r,onChange:o}),"not active"]})," ",Object(V.jsxs)("label",{children:[Object(V.jsx)("input",{type:"radio",value:"active",checked:r,onChange:o}),"active"]})]})]},t)},z=function(e){var t=e.title,n=e.employees;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{children:t}),Object(V.jsx)("ul",{children:n.length?n.map((function(e){return Object(V.jsx)(J,Object(L.a)({},e),e.id)})):Object(V.jsx)("span",{children:"---"})})]})},G=n(17),K=n.n(G),P=function(){var e=D(),t=I(w),n=Object(c.useState)([]),a=Object(U.a)(n,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){e((function(e,t){t().entities.employees.list.length||e(y({url:"/users",onStart:E.type,onSuccess:C.type,onError:k.type}))}))}),[e]),Object(c.useEffect)((function(){var e=function(e){for(var t="A".charCodeAt(0),n=[],c=function(c){var a=String.fromCharCode(t+c),i=e.filter((function(e){return e.lastName[0].toUpperCase()===a})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)})),s={title:a,employees:i};n.push(s)},a=0;a<26;a++)c(a);return n}(t.list);s(e)}),[t.list]),t.loading?Object(V.jsx)(A,{}):Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:K.a.title,children:[Object(V.jsx)("h2",{children:"Employees"}),Object(V.jsx)("hr",{})]}),Object(V.jsx)("div",{className:K.a.employees,children:i.map((function(e){return Object(V.jsx)(z,Object(L.a)({},e),e.title)}))})]})},Q=n(9),X=n.n(Q),H=function(e){var t=e.lastName,n=e.firstName,c=e.dob;return Object(V.jsx)("li",{children:"".concat(t," ").concat(n," - ").concat(X()(c).format("D MMMM, YYYY [year]"))})},W=function(e){var t=e.title,n=e.employees;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{children:t}),Object(V.jsx)("ul",{children:n.map((function(e){return Object(V.jsx)(H,Object(L.a)({},e),e.id)}))})]})},Z=n(18),$=n.n(Z),ee=function(){var e=Object(r.c)(R),t=Object(c.useState)([]),n=Object(U.a)(t,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){var t=function(e){for(var t=[],n=X()().month(),c=function(c){var a=(c+n)%12,i=e.filter((function(e){return X()(e.dob).month()===a})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));if(!i.length)return"continue";var s={title:X()().month(a).format("MMMM"),employees:i};t.push(s)},a=0;a<12;a++)c(a);return t}(e);i(t)}),[e]),Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:$.a.title,children:[Object(V.jsx)("h2",{children:"Employees Birthday"}),Object(V.jsx)("hr",{})]}),Object(V.jsx)("div",{className:$.a.birthdays,children:a.length?a.map((function(e){return Object(V.jsx)(W,Object(L.a)({},e),e.title)})):Object(V.jsx)("p",{children:"Employees List is empty."})})]})},te=n(12),ne=n.n(te),ce=function(){return Object(V.jsxs)("div",{className:ne.a.container,children:[Object(V.jsx)("section",{className:ne.a.employees,children:Object(V.jsx)(P,{})}),Object(V.jsx)("section",{className:ne.a.birthdays,children:Object(V.jsx)(ee,{})})]})},ae=Object(o.h)(T);var ie=function(){return Object(V.jsx)(r.a,{store:T,children:Object(V.jsx)(l.PersistGate,{loading:Object(V.jsx)(A,{}),persistor:ae,children:Object(V.jsx)(ce,{})})})};n(62);s.a.render(Object(V.jsx)(a.a.StrictMode,{children:Object(V.jsx)(ie,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.135fc162.chunk.js.map